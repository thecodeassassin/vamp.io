<!DOCTYPE html>




 <html class="no-js"> 
<head>

<script type="text/javascript">
theBaseUrl = "http://vamp.io/";
</script>
<base href="http://vamp.io/" />

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
  <title>Using the Vamp CLI - Vamp</title>
  <meta name="generator" content="Hugo 0.18-DEV" />

  
  <meta name="description" content="Vamp - Deploy and manage microservices with power and ease.">
  
  <link rel="canonical" href="./documentation/cli/using-the-cli/">
  
  <meta name="author" content="magnetic.io">
  

  <meta property="og:url" content="/documentation/cli/using-the-cli/">
  <meta property="og:title" content="Vamp">
  <meta property="og:image" content="/images/logo.svg">
  <meta name="apple-mobile-web-app-title" content="Vamp">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <link rel="shortcut icon" type="image/x-icon" href="./images/logo.svg">
  <link rel="icon" type="image/x-icon" href="./images/logo.svg">


  <style>
    @font-face {
      font-family: 'Icon';
      src: url('fonts/icon.eot?52m981');
      src: url('fonts/icon.eot?#iefix52m981')
      format('embedded-opentype'),
      url('fonts/icon.woff?52m981')
      format('woff'),
      url('fonts/icon.ttf?52m981')
      format('truetype'),
      url('fonts/icon.svg?52m981#icon')
      format('svg');
      font-weight: normal;
      font-style: normal;
    }
  </style>

  <link rel="stylesheet" href="css/style.css">

  <script src="js/vendor.js"></script>

  <script src="js/app.js"></script>

  
</head>
<body class="palette-primary-pink palette-accent-pink">


<div class="single-page">
  <nav aria-label="Header" id="header" class="top-menu">
  <div class="left">
    <a href="./">
      <div id="logo" class="logo"></div>
    </a>
  </div>

  <div class="right">
    <div class="top-menu-items" id="top-menu-items">

    </div>

    <div class="download">
      <a href="./documentation/installation/hello-world/" class="button button--red">
        Try Vamp
      </a>
    </div>

    <a href="https://github.com/magneticio/vamp" target="_blank" class="github-logo">
      <i class="fa fa-2x fa-github" aria-hidden="true"></i>
    </a>

    <div class="search-button">
      <i class="fa fa-lg fa-search"></i>
    </div>

  </div>
</nav>

<ul id="mobile-menu" style="display: none">
</ul>

<div id="search">
  <div class="search-bar">
    <div class="search-bar__back">
      <i class="fa fa-lg fa-times"></i>
    </div>
    <input class="search-bar__input" placeholder="Type your search here...">
  </div>
  <div class="search-results">
    <ul></ul>
  </div>
</div>


</div>

<div class="page documentation">
    <div class="menu" id="side-menu">
    </div>
    <div class="content">
      <h1 class="content-header">Using the Vamp CLI </h1>
      <div class="markdowned">
        

<p>Vamp&rsquo;s command line interface (CLI) can be used to perform basic actions against the Vamp API. The CLI was
primarily developed to work in continuous delivery situations. In these setups, the CLI takes care of automating (canary) releasing new artifacts to Vamp deployments and clusters.</p>

<h4 id="see-also">See also</h4>

<ul>
<li><a href="./documentation/cli/cli-reference/">Full list of available CLI commands</a></li>
</ul>

<h2 id="installation">Installation</h2>

<p>Check <a href="./documentation/installation/">run vamp</a> for details on how to install the Vamp CLI on your platform.</p>

<h2 id="configuration">Configuration</h2>

<p>After installation, set Vamp&rsquo;s host location. This location can be specified as a command line option (<code>--host</code>)</p>

<pre><code class="language-bash">vamp list breeds --host=http://192.168.59.103:8080
</code></pre>

<p>&hellip;or via the environment variable <code>VAMP_HOST</code></p>

<pre><code class="language-bash">export VAMP_HOST=http://192.168.59.103:8080
</code></pre>

<h2 id="simple-commands">Simple commands</h2>

<p>The basic commands of the CLI, like <code>list</code>, allow you to do exactly what you would expect:</p>

<pre><code>&gt; vamp list breeds
NAME                     DEPLOYABLE
catalog                  docker://zutherb/catalog-frontend
checkout                 docker://zutherb/monolithic-shop
product                  docker://zutherb/product-service
navigation               docker://magneticio/navigation-service:latest
cart                     docker://zutherb/cart-service
redis                    docker://redis:latest
mongodb                  docker://mongo:latest
monarch_front:0.1        docker://magneticio/monarch:0.1
monarch_front:0.2        docker://magneticio/monarch:0.2
monarch_backend:0.3      docker://magneticio/monarch:0.3
</code></pre>

<pre><code>&gt; vamp list deployments
NAME                                    CLUSTERS
1272c91b-ba29-4ad1-8d09-33cbaa8f6ac2    frontend, backend
</code></pre>

<h2 id="ci-and-chaining">CI and chaining</h2>

<p>In more complex continuous integration situations you can use the CLI with the <code>--stdin</code> flag to chain a bunch of commands together. You could for instance:</p>

<ul>
<li>get an &ldquo;old&rdquo; version of a breed with <code>inspect</code></li>
<li>generate a new breed based on the previous one, while inserting a new deployable</li>
<li>create the breed in the backend</li>
</ul>

<pre><code>vamp inspect breed frontend:${OLD} | \
vamp generate breed --deployable mycompany/frontend:${NEW} frontend:${NEW} --stdin | \
vamp create breed --stdin
</code></pre>

<p>Once you have the new breed stored, you can insert it into a running deployment at the right position, i.e:</p>

<ul>
<li>get a blueprint from a running deployment with <code>inspect</code> and <code>--as_blueprint</code></li>
<li>generate a new blueprint with <code>generate</code> while inserting a new breed</li>
<li>deploying the result with <code>deploy</code></li>
</ul>

<pre><code>vamp inspect deployment $DEPLOYMENT --as_blueprint | \
vamp generate blueprint --cluster frontend --breed frontend:${NEW} --stdin | \
vamp deploy --deployment $DEPLOYMENT --stdin
</code></pre>

<hr />

<h4 id="see-also-1">See also</h4>

<ul>
<li><a href="./documentation/cli/cli-reference/">Full list of available CLI commands</a></li>
</ul>

      </div>
    </div>
</div>

<div class="lander-row lander-row--blue footer">
  <div class="container">
    <div class="row">
      <div class="col col-3">
        <h2 class="h2">Learn more</h2>
        <a href="./why-use-vamp/">
          <p class="text">Why use Vamp?</p>
        </a>
        <a href="./documentation/how-vamp-works/architecture-and-components">
          <p class="text">Documentation</p>
        </a>
        <a href="./about/">
          <p class="text">About us</p>
        </a>
        <a href="./resources/news/">
          <p class="text">News</p>
        </a>
        <a href="./contact/">
          <p class="text">Contact</p>
        </a>
      </div>
        <div class="col col-6">
        <h2 class="h2">All things code</h2>
          <a href="./support/">
            <p class="text">Support</p>
          </a>
          <a href="./resources/community/">
            <p class="text">Community</p>
          </a>
          <a href="https://github.com/magneticio/vamp" target="_blank">
            <p class="text">GitHub</p>
          </a>
          <a href="https://gitter.im/magneticio/vamp" target="_blank">
            <p class="text">Gitter</p>
          </a>
      </div>
      <div class="col col-6">
        <h2 class="h2">Stay up to date</h2>
        <p class="text">
          Leave your email for the latest news: We won’t spam you and won’t go off topic.
        </p>

        <form action="//magnetic.us9.list-manage.com/subscribe/post?u=c709b3ab8cce9e00d617e01b6&amp;id=c1465e21d0" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate form-inline" style="display: inline" target="_blank" novalidate="">
          <div class="input-group">
            <input type="email" name="EMAIL" id="mce-EMAIL" placeholder="Email">
            <a onclick="$(this).closest('form').submit()" class="button button--red not-active">
              <div class="button__icon button__icon--mail">
              </div>
            </a>
          </div>
        </form>

        
          
        


        <div class="social-buttons">
          <p class="text">Follow us on: </p>
          <a href="https://twitter.com/vamp_io" target="_blank">
            <i class="fa fa-2x fa-twitter"></i>
          </a>

          <a href="https://www.linkedin.com/company/magnetic-io" target="_blank">
            <i class="fa fa-2x fa-linkedin"></i>
          </a>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="footer-bottom lander-row--blue">
  <div class="container">
    <div class="part">
      <a href="./about/"><img class="magnetic-logo" src="./img/005-vamp/Logo/magnetic-logo-footer.svg" alt=""></a>
    </div>
    <div class="part">
      <img class="vamp-bat" src="./img/003-Small-icons/Medium-blue/VAMP-Medium.svg" alt="">
      <p class="text">Code licensed under <a type="application/rss+xml" href="https://www.apache.org/licenses/LICENSE-2.0" target="_blank">Apache 2</a> © 2016 <a href="./about/">Magnetic.io</a></p>
    </div>
  </div>
</div>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59948816-1', 'auto');
  ga('send', 'pageview');

</script>

